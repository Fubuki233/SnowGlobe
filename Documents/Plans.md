# SnowGlobe 项目规划

## 我们应该做什么样的游戏?

一个基于生成式AI技术的模拟类游戏，玩家将拥有一个名为"雪景球(也可以是其他名字)"的小型虚拟世界。玩家扮演上帝,或者撒旦.通过与世界内的场景和居民交互,来影响这个小型文明的发展走向.

---

## 主要机制

### 雪景球的生成

在我们的开发初期,雪景球可以是一个预设的场景,比如一个小村庄,或者一个小岛.未来我们可以考虑让玩家自定义雪景球的地形和环境,或是随机生成.

### 初始环境与居民

初始环境将包含一些基本的地形元素(如房屋,树木,水体等)和几位居民.居民将有各自的属性(见下文),这些属性将影响他们的行为和互动方式.

这些美术素材需要手绘,因为这奠定了游戏的整体美术风格.

美术素材尽可能需要: 颜色简单,线条简洁,所有环境/物品/人物素材都要很高的辨识度方便后续AI进行处理.

例如: 尽管上文说需要简单的颜色,但对于草地而言,为了让ai能够更好的识别,可以加上一些简单的纹理(比如草的线条),而不是单一的绿色块.

注意,所有ai生成的素材的背景都是纯绿色(手绘的时候不加背景,但要测试:填充绿背景到SnowWave里,选择仅抠图,看效果.尽量避免绿色的素材),以便后续抠图处理.

### 玩家属性

- **守护**: 当玩家为居民提供帮助时,居民的守护值会上升. 但是过高的帮助会让居民变得依赖,文明的进化会变慢.
- **混沌**: 当玩家制造混乱时,居民的混沌值会上升. 适度的混乱可以激发居民的创造力,但过多的混乱会导致文明的崩溃.
- **暴露**: 当居民频繁发现玩家的干预时,居民的暴露值会上升. 这可能会产生信仰,或是恐惧,影响居民的行为.
- **行动点**: 每个回合,玩家会拥有一定的技能点,玩家对场景干预就会消耗这些点数.

### 居民属性

每个居民将有以下属性:

- **智慧**: 影响居民学习新技能和适应环境的能力.
- **幸福**: 影响居民的创造力和与其他居民的互动频率和质量.
- **健康**: 影响居民的寿命和工作效率.
- **信仰**: 影响居民对玩家干预的接受度和反应.
- **职业**: 居民可以有不同的职业,如农民,工匠,学者等.职业将影响居民的行为和需求.
- **寿命**: 影响其他属性.
  
#### 计算方法

所有属性最小值为0，最大值为100，属性为0后无法再减少，属性为100后无法再增加

- **智慧**: 初代居民生成后取10至50随机数为基础值，后代居民以父亲和母亲智慧值相加的1/2为基础值，再随机加减20，居民接触1个新事物+1，学习1个新技能+2，生病累计30天-1.
- **幸福**:初代居民基础值为0，后代居民若有父母以20为基础值，若没有父亲以10为基础值，若被父母抛弃以0为基础值，拥有房屋+10（房屋随文明进化后，计算进化方法为10+文明进化次数*1)，拥有足够的食物和水每累计30天+1，娱乐活动累计10次+1（娱乐活动限制每天最多1次）.
- **健康**: 居民生成后取100为基础值，吃未消毒的食物和水累计10天-1，生病受伤累计30天-1.
- **信仰**: 初代居民生成后以0为基础值，后代居民以父亲和母亲信仰最大值的1/2为基础值，玩家使用1行动点后居民信仰+1.
- **职业**: 居民每当接触与职业相关的事物+10，学习与职业相关技能+30，某种职业累计达到100后居民就拥有该职业，如一个居民接触农民相关事物4次，学习与农民相关技能2个，农民职业累计值100，该居民职业变成农民，允许一个居民同时进行多种职业的累计值计算.
- **寿命**: 初代居民基础值为0，居民每生活60天+1，寿命属性大于健康属性后，居民死亡，寿命属性从20开始，寿命每+10,居民智慧-1，幸福不变，健康-1，信仰+1.
  
### 玩家影响

玩家可以通过与场景内的物品和居民交互,来影响他们的情绪和行为.

例如在最初的文明中,居民需要寻找食物,玩家若在场景中添加食物,居民的整体幸福与健康会上升.但智慧将先维持再下降;玩家则会增加守护属性.

---

### 文明发展

可以说是项目的核心,也是最复杂,最难以实现的部分.

我们需要有一个多智能体系统,暂且叫他"发展核心".

这个系统并不总在观察雪景球世界,而是有一个周期性的观察与总结过程.

学者这一职业是与发展核心沟通的桥梁.(学者职业分配给智慧数值高的居民)

学者会不断地观察居民的行为,发现新的物品或现象.每当学者发现新的事物,发展核心中的"观察者"智能体就会被触发,它会记录下学者的发现.

当观察者智能体积累了足够的信息后(或者),它就会触发"总结者"智能体.总结者会分析观察者收集到的数据,并报告:

- 当前文明的状态:居民的属性分布,资源的使用情况等.
- 发现的新事物:学者发现的物品,现象等.
- 潜在的发展方向:基于当前状态和新发现,总结者会提出一些可能的发展方向供玩家选择
  - 例如: 学者发现火可以烤肉,玩家可以介入,让生肉与熟肉被食用后增加的健康度一致,那么大规模用火的时机就会被延后,因为学者总结发现火没什么用处.
- 文明进化:基于总结者的报告,发展核心会决定文明的进化方向.这可能包括引入新的技术,产生新的环境或物品,改变居民的行为模式,甚至是引入新的居民职业等.

**生成者**: 生成者接受报告,根据报告内容生成新的物品,环境或技术.例如,如果报告中提到学者发现了火,并且提到群落开始广泛使用火,生成者可能会生成火把或篝火等物品.

#### 生成工作流

- 首先需要预先定义好一套基础的物品与环境列表,以及对应的预制属性或方法 (也许在未来能尝试完全由ai来生成功能与属性)
 例如,对物品而言:亮度,是否能腐坏,是否能燃烧,是否能食用,是否能被使用(类似我的世界的熔炉:接受物品,返回产物),生成规则
- 在生成者接收到信息后,会先生成物品的贴图,随后绑定这个物品的各个基础属性.
- 随后注册这个物品.这样物品就能出现在雪景球里了.

**沟通者**: 沟通者会将新的知识灌输给学者,因此各种新技术都应该是学者首先理解并传播,玩家或许可以在这个环节进行干预?

---

### 发展回合

游戏将以回合制的方式进行.每个回合,时间流逝速度以天为单位.

如果玩家在某个回合内没有任何操作,文明将保持缓慢的速度发展或原地踏步,此时不会触发发展核心.

玩家可以选择不使用行动点或剩余行动点就进入下一回合.

当玩家使用行动点后,发展核心可以被激活,发展核心总结后进入下一回合。 
  
